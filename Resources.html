<!DOCTYPE html>

<html lang="en">

<head>
    <title>Max Loh</title>

    <!--Avoid search engine indexing the page-->
    <meta name="robots" content="noindex">

    <!--Let the website mobile friendly-->
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <!--Chrome for Android theme color (address bar)-->
    <meta name="theme-color" content="#212529" />

    <!--Favicon-->
    <link rel="icon" type="image/png" href="./img/icon/256x256.png" sizes="256x256">

    <!--PWA support-->
    <!--APP Manifest-->
    <link rel="manifest" href="/manifest.json">
    <!--PWA javascript
        In order for the service worker to work, service worker javascript must be put to the same directory as index.heml-->
    <script src="./pwabuilder-sw.js"></script>
    <script src="./pwabuilder-sw-register.js"></script>

    <!--Bootstrap CSS & JS-->
    <!--For Javascript, jQuery must come first, then bootstrap bundled js (popper included)-->
    <link rel="stylesheet" href="./css/bootstrap.min.css">
    <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo"
        crossorigin="anonymous"></script>
    <script src="./js/bootstrap.bundle.min.js"></script>

    <!--Font Awesome-->
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.5.0/css/all.css" integrity="sha384-B4dIYHKNBt8Bc12p+WXckhzcICo0wtJAoU8YZTY5qE0Id1GSseTk6S+L3BlXeVIU"
        crossorigin="anonymous">
    <!--Google Font-->
    <!--Body Font: Source Sans Pro 400, Logo Font: Jura 300-->
    <link href="https://fonts.googleapis.com/css?family=Source+Sans+Pro:400|Jura:300" rel="stylesheet">

    <!--Custom Style-->
    <style>
        :root {
            --main-margin: 70px;
            --header-margin: 40px;
            --font-size: 20px;
            /*margin between rows*/
            --row-margin: 50px;
        }

        /*Stretch the page to fill browser window (for positioning footer)*/
        html {
            height: 100%;
        }

        body {
            background-color: #212529;
            color: #adb5bd;
            font-family: "roboto", "arial", sans-serif;
            /*Stretch the page to fill browser window (for positioning footer)
              height: 100% - (.container margin that do not have contents in it)*/
            height: calc(100% - var(--main-margin));
        }

        a {
            color: #63e6be;
        }

        .container {
            /*max-width: width of container*/
            max-width: 1000px;
            margin: var(--main-margin) auto;
            font-family: "Source Sans Pro";
            font-weight: 400;
            font-size: var(--font-size);
            /*Stretch container to fill the whole body (for positioning footer)
              min-height: 100% - (header margin collapsed by .container);
              position -> relative: required for footer positioning*/
            min-height: calc(100% - var(--main-margin));
            position: relative;
        }

        .header {
            margin-top: var(--header-margin);
            margin-bottom: var(--header-margin);
        }

        /*.header .logo*/
        .logo {
            /*Let .logo height to be the same as its child element (.logo a)*/
            line-height: normal;
            /*Let the logo stick to the edge of its parent element (.container)*/
            margin-left: -5px;
        }

        /*.header .logo a*/
        .logo a {
            font-family: 'Jura', Arial, sans-serif;
            color: #adb5bd;
            font-size: 60px;
            letter-spacing: 2px;
            text-transform: uppercase;
            padding: 0px;
        }

        /*.header .logo a:hover*/
        .logo a:hover {
            text-decoration: none;
        }

        /*.header .col-auto.d-flex.align-items-center a .social-link*/
        .social-link {
            color: #adb5bd;
            text-align: center;
            text-transform: uppercase;
            margin: 0px 20px;
        }

        /*.header .col-auto.d-flex.align-items-center a .social-link i*/
        .social-link i {
            font-size: 25px;
            margin: 5px 0px;
        }


        nav.navbar {
            padding: 10px 0px;
            background-color: #212529;
            /*Negative margin: let text of .nav-item stick to the edge of its parent element (.container)*/
            margin: var(--header-margin) -15px;
            /*Let text of .nav-item stick to the edge of its parent element (.container) before being scroll through*/
            margin-left: calc(-15px - 1rem);
            /*.navbar is hidden and (--header-margin)px lower by page load (for CSS animation)*/
            opacity: 0;
            transform: translateY(var(--header-margin));
        }

        /*nav.navbar ul.nav.nav-pills li.nav-item*/
        .nav-item {
            margin: 0px 15px;
        }

        /*nav.navbar ul.nav.nav-pills li.nav-item a.nav-link.active
          Item of current scroll position, use for overriding bootstrap default colors
          .nav-pills must be included in order to override bootstrap CSS*/
        .nav-pills .nav-link.active {
            color: #212529;
            background-color: #63e6be;
        }

        main {
            margin: var(--main-margin) -15px;
        }

        main .row {
            /*Margin between rows*/
            margin: var(--row-margin) 0px;
            /*.row is hidden and (--row-margin)px lower by page load (for CSS animation)*/
            opacity: 0;
            transform: translateY(var(--row-margin));
        }

        /*line-height -> 1: Let headings to be visually the same height as paragraphs*/
        main h1 {
            line-height: 1;
            margin-bottom: 1rem;
        }

        main p {
            line-height: 1.7;
        }

        /*main .content p+h2
          Margin between different sections in .content*/
        .content p+h2 {
            margin-top: 1.5rem;
        }

        /*main .content>*:last-child
          Remove bottom margin on last child (mostly paragraph) of each row, otherwise margin between rows will be larger than expected*/
        .content>*:last-child {
            margin-bottom: 0px;
        }

        /*Add emtry element to preserve space for footer as "position: absolute" footer do not take up space
          (for positioning footer)*/
        .container:after {
            content: "";
            /*height: font-size(copyright)*line-spacing(copyright)*/
            height: calc(var(--font-size)*1.5);
            display: block;
        }

        /*Place footer to bootom of .container*/
        footer {
            position: absolute;
            bottom: 0px;
        }

        footer i {
            font-size: 15px;
            vertical-align: 1px;
        }

        footer small {
            display: block;
        }

        /*CSS for phones with width <= 767px
          If device with width >=768px, the desktop site will be rendered
          Somehow I hardcoded this part, but this is the most convenient way*/
        @media (max-width: 767px) {
            :root {
                --main-margin: 40px;
                --header-margin: 30px;
                --font-size: 1rem;
            }

            body {
                /*height: 100% - (header margin that do not have contents in it) (for positioning footer)*/
                height: calc(100% - var(--main-margin));
            }

            .container {
                margin: var(--main-margin) auto;
                font-size: var(--font-size);
                /*min-height: 100% - (header margin collapsed by .container) (for positioning footer)*/
                min-height: calc(100% - var(--main-margin));
            }

            .header {
                margin: 30px 0px;
            }

            /*.header .logo*/
            .logo {
                margin-bottom: var(--header-margin);
                text-align: center;
                display: block;
                /*Unset negative left margin defined in desktop site*/
                margin-left: auto;
            }

            nav.navbar {
                /*margin-left, margin-right -> 0px: override negative margin value of desktop site*/
                margin: var(--header-margin) 0px;
            }

            /*nav.navbar ul.nav
              Enable the navbar in mobile site to scroll horizontally when needed*/
            ul.nav {
                /*flex-wrap -> nowrap: keep elements in same row even there is not enough spqce
                      white-space -> nowrap: keep elements width even there is not enough spqce
                      overflow-x -> scroll: enable horizontal scrolling of the element*/
                flex-wrap: nowrap;
                white-space: nowrap;
                overflow-x: scroll;
            }

            /*nav.navbar ul.nav.nav-pills
              padding: (main contents padding) - (nav-item padding) = 15px - 5px = 10px
              The text of .nav-item would stick to the edge of its parent element (.container) / start and end at the same postion as main contents*/
            .nav.nav-pills {
                width: 100%;
                justify-content: space-between;
                padding: 0px 10px;
            }

            /*nav.navbar ul.nav.nav-pills li.nav-item
              padding: add apace between nav-items*/
            .nav-item {
                margin: 0px;
                padding: 0px 5px;
            }

            /*nav.navbar ul.nav.nav-pills li.nav-item a.nav-link
              smaller padding to avoid navbar horizontal scrolling*/
            a.nav-link {
                padding-left: 0.5rem;
                padding-right: 0.5rem;
            }

            main {
                margin: var(--header-margin) 0px;
            }

            footer {
                padding: 0px 15px;
            }

            footer i {
                font-size: calc(var(--font-size) * 0.75);
                vertical-align: 1px;
            }
        }
    </style>

    <!--Custom JavaScript-->
    <script>
        //Let text of .nav-item stick to the edge of its parent element (.container), when navbar is not sticky

        /*if desktop site is displayed*/
        if ($(window).width() >= 768) {
            /*When user scroll*/
            $(window).scroll(function () {
                /* Options for scroll tracking statements:
                1. if(document.getElementsByClassName('active').length != 0)
                2. var navbar = $('#navbar').offset().top;
                   if ($(window).scrollTop() >= navbar)*/
                /*if one of the .nav-link is active, meaning that navbar is sticking to top of the page*/
                if ($('.active')[0]) {
                    $('#navbar').css("margin-left", "calc(-15px)");
                } else {
                    $('#navbar').css("margin-left", "calc(-15px - 1rem)");
                }
            });

            /*When jump links (html anchors) being clicked*/
            window.addEventListener("hashchange", function () { $('#navbar').css("margin-left", "calc(-15px)"); });
        }


        //Offset jump links (html anchors) for the sticky navbar and amination, pointing them to the correct position
        window.addEventListener("hashchange", function () {
            /*If animation of that element has not been completed yet*/
            if ($(window.location.hash).css('opacity') < 1) {
                /*2 * --row-margin: one for top margin, and one for translateY(--row-margin) before animation starts*/
                window.scrollTo(window.scrollX, $(window.location.hash).offset().top - $('#navbar').innerHeight() - 2 * parseInt($(':root').css('--row-margin')));
            }
            /*If animation of that element has been completed*/
            else {
                window.scrollTo(window.scrollX, $(window.location.hash).offset().top - $('#navbar').innerHeight() - parseInt($(':root').css('--row-margin')));
            }
        });


        //Initialize bootstrap scrollspy with calculated data-offset
        $(document).ready(function () {
            if (document.getElementById('navbar')) {
                /*2 * --row-margin: one for top margin, and one for translateY(--row-margin) before animation starts*/
                var dataOffset = $('#navbar').innerHeight() + 2 * parseInt($(':root').css('--row-margin'));
                $('body').scrollspy({ target: '#navbar', offset: dataOffset });
            }
        });


        //CSS animation

        /*Set elementList as a globel varieable to improve efficiency (only modifiy once)*/
        var elementList = [];
        var delayms = 0;

        /*Initialize elementList and call addAnimation() on windows load complete*/
        $(document).ready(function () {
            if (document.getElementById('navbar')) elementList.push('navbar');
            elementList.push.apply(elementList, $("main>.row").map(function () { return this.id; }).get());
            addAnimation();
        });

        /*Call addAnimation() method on page scroll (for CSS animation)*/
        $(window).scroll(function () { addAnimation() });

        /*Add CSS animation class to main .row (for CSS animation)*/
        function addAnimation() {
            for (var i = 0; i < elementList.length; i++) {
                var row = elementList[i];
                if ($(window).scrollTop() + $(window).height() > $('#' + row).offset().top) {
                    /*By the time when statements within setTimeout() executes, variable row has been changed by next turn of loop
                      so it is required to pass the loop variable to a cimmediately-invoked function to handle the work*/
                    (function (id) {
                        setTimeout(function () {
                            delayms -= 250;
                            $('#' + id).css({ 'transition-duration': '1250ms', 'opacity': '1' });
                            $('#' + id).css({ 'transform': 'translateY(0)' });
                            /*Reset #navbar animation duration*/
                            if (id === 'navbar')
                                setTimeout(function () { $('#navbar').css({ 'transition-duration': '250ms', 'transition-timing-function': 'ease-in-out' }) }, 1250);
                        }, delayms);
                    })(row);
                    delayms += 250;
                    /*remove 1 element start from i from elementList*/
                    elementList.splice(i, 1);
                    /*After removing elementList[i] from elementList, elementList[i+1] is now elementList[i]
                      in the next turn of loop, elementList[i] (previously elementList[i+1]) should be checked*/
                    i--;
                }
            }
        }
    </script>
</head>

<body>
    <div class="container">
        <!--justify-content-center: center social-link in mobile site-->
        <div class="header row justify-content-center">
            <!--col-xs-12: for xs or above, the logo column occupy the whole row
                col-md-auto: for md or above (overriding the last rule), the logo column sized based on the natural width of contents within
                mr-md-auto: mr-auto for md or larger device, pushing social links to right site-->
            <div class="logo col-xs-12 col-md-auto mr-md-auto">
                <a href=".">Max Loh</a>
            </div>
            <!--col-auto: the column sized based on the natural width of contents within
                d-flex: put items to same row
                align-items-center: center items within (for mobile site)
                Negative margin: let social-link stick to the edge of its parent element-->
            <div class="col-auto d-flex align-items-center" style="margin: 0px -20px;">
                <a href="https://www.instagram.com/max.loh/" target="_blank">
                    <div class="social-link">
                        <i class="fab fa-instagram"></i><br>
                        <span>Instagram</span>
                    </div>
                </a>
                <a href="https://www.github.com/maxloh/" target="_blank">
                    <div class="social-link">
                        <i class="fab fa-github"></i><br>
                        <span>Github</span>
                    </div>
                </a>
                <a href="mailto:maxloh.register@gmail.com">
                    <div class="social-link">
                        <i class="far fa-envelope"></i><br>
                        <span>EMail</span>
                    </div>
                </a>
            </div>
        </div>

        <main>
            <!--Reminder: After copying CSS, remember to change back height in .container:after for desktop site (mobile site applied automatically)
                    /*height: font-size(copyright)*line-spacing(copyright)*/
                    height: calc(var(--font-size)*1.5);
                    
                Also remember to remove the navbar
            -->
            <div id="resources" class="row">
                <div class="col-md-3 col-xs-12">
                    <h1>Resources</h1>
                </div>
                <div id="resources-list" class="content col-md-9 col-xs-12">
                    <!--Bootstrap use a slimed version of jQuery that does not contain the get() function, so it is required to import the full version here
                        jquery-3.3.1.min.js tested and proven to work-->
                    <script src="https://code.jquery.com/jquery-3.3.1.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8="
                        crossorigin="anonymous"></script>
                    <!--import marked.js that parse .md file to HTML code-->
                    <script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>
                    <script>
                        jQuery.get({
                            url: "https://maxloh.github.io/Resources.md",
                            success: function (data) {
                                $("#resources-list").html(marked(data));
                            }
                        });
                    </script>
                </div>
            </div>
        </main>
        <footer>
            Copyright <i class="far fa-copyright"></i> 2018 Max Loh
        </footer>
    </div>

</body>

</html>